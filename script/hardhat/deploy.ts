import { HardhatRuntimeEnvironment } from "hardhat/types";
import dotenv from "dotenv"
import {mainWallet, makeContract, sendTx, setupHRE} from "../../utils/contract";
import hre from "hardhat";
import {ethers} from "ethers";

dotenv.config();

export async function deploy(hre: HardhatRuntimeEnvironment) {
  setupHRE(hre);

  const bytecode = "0x60806040818152346200054a57610100826200317f80380380916200002582856200054f565b8339810103126200054a57815191620000416020820162000573565b90828101519360608201519260808301516200006060a0850162000573565b9060e060c086015195015195620000f5620000b9620000c86200008388620005d1565b8b519283917f426c6f67204368616c6c656e676520546f6b656e2023000000000000000000006020840152603683019062000588565b03601f1981018352826200054f565b62000104620000d788620005d1565b8b5193849164424c4f472360d81b6020840152602583019062000588565b03601f1981018452836200054f565b8051906001600160401b0382116200041c5760035490600182811c921680156200053f575b6020831014620003fb5781601f849311620004cd575b50602090601f83116001146200043e5760009262000432575b50508160011b916000199060031b1c1916176003555b8051906001600160401b0382116200041c5760045490600182811c9216801562000411575b6020831014620003fb5781601f84931162000389575b50602090601f8311600114620002fe57600092620002f2575b50508160011b916000199060031b1c1916176004555b600160055560018060a01b0319943386600754161760075560065560018060a01b03809416988986600b541617600b55600855600955600a551690600e541617600e55600f55601055600160ff1960155416176015553015620002db5760025469d3c21bcecceda100000090818101809111620002c55760025530600052600060205281600020818154019055815190815260007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60203093a351907e6e601524fde8440cd9b7e92996d5925217815155fb8d040434a694754a1ccd600080a2612a2d9081620007528239f35b634e487b7160e01b600052601160045260246000fd5b5163ec442f0560e01b815260006004820152602490fd5b015190503880620001c2565b600460009081527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b9350601f198516905b81811062000370575090846001959493921062000356575b505050811b01600455620001d8565b015160001960f88460031b161c1916905538808062000347565b929360206001819287860151815501950193016200032f565b60046000529091507f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b601f840160051c810160208510620003f3575b90849392915b601f830160051c82018110620003e3575050620001a9565b60008155859450600101620003cb565b5080620003c5565b634e487b7160e01b600052602260045260246000fd5b91607f169162000193565b634e487b7160e01b600052604160045260246000fd5b01519050388062000158565b6003600090815293507fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b91905b601f1984168510620004b1576001945083601f1981161062000497575b505050811b016003556200016e565b015160001960f88460031b161c1916905538808062000488565b818101518355602094850194600190930192909101906200046b565b60036000529091507fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b601f840160051c81016020851062000537575b90849392915b601f830160051c82018110620005275750506200013f565b600081558594506001016200050f565b508062000509565b91607f169162000129565b600080fd5b601f909101601f19168101906001600160401b038211908210176200041c57604052565b51906001600160a01b03821682036200054a57565b9081519160005b838110620005a1575050016000815290565b80602080928401015181850152016200058f565b6001600160401b0381116200041c57601f01601f191660200190565b806000917a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008082101562000742575b506d04ee2d6d415b85acef81000000008083101562000732575b50662386f26fc100008083101562000722575b506305f5e1008083101562000712575b506127108083101562000702575b506064821015620006f1575b600a80921015620006e6575b600190816021818601956200067387620005b5565b966200068360405198896200054f565b80885262000694601f1991620005b5565b01366020890137860101905b620006ad575b5050505090565b600019019083906f181899199a1a9b1b9c1cb0b131b232b360811b8282061a835304918215620006e057919082620006a0565b620006a6565b91600101916200065e565b919060646002910491019162000652565b6004919392049101913862000646565b6008919392049101913862000638565b6010919392049101913862000628565b6020919392049101913862000615565b604093508104915038620005fb56fe6080604052600436101561001257600080fd5b60003560e01c8063011e649214611a9d57806306fdde03146119f7578063095ea7b3146119715780630c2de5841461195657806313fb3f331461193a57806318160ddd1461191c5780631f2698ab146118f957806321fb21a71461184957806323b872dd1461175657806324924bf7146117385780632c2d7709146117115780632ff2e9dc146116ec5780632ffa9f05146116ce578063313ce567146116b257806335c1d34914611681578063419759f51461166657806341ce7c8e1461162857806344d6ab5c1461160c5780634f2e591c146115a5578063534db0e21461157e57806355b06f1e146115305780635717496a1461150a57806359aa9055146114ec5780635a9b0b89146114705780636190c9d51461145257806370a082311461141857806373e59d75146113f2578063744535ba146113d4578063775f977e146113b657806378e97925146113985780637ebd1b3014611357578063822a378514611333578063845c93061461127457806395d89b411461118e5780639d15233314611170578063a25b0a091461114d578063a8ba642a14611128578063a9059cbb146110f7578063af640d0f146110d9578063b01ca7a414610fd0578063b4fca20c14610ada578063b69acfa214610a3c578063bab2f55214610a21578063bec3fa1714610940578063c45a015514610919578063c65af62214610516578063ced1afbf146104f8578063d0e30db0146104da578063dd62ed3e14610488578063df764cfd14610467578063f218f48c14610449578063f4217648146102b2578063fb104286146102965763fceb0f3b1461026e57600080fd5b34610291576000366003190112610291576020610289611f25565b604051908152f35b600080fd5b34610291576000366003190112610291576020604051603c8152f35b34610291576020806003193601126102915767ffffffffffffffff9060043582811161029157366023820112156102915780600401359283116104335760059183831b916040519461030683850187611ba8565b85528185016024809483010191368311610291578401905b828210610414575050506001600160a01b039061034082600b541633146126bb565b600d94855460008755806103d1575b5060005b81518110156103cf57838382881b84010151168754680100000000000000008110156103ba576103b592916103908260016103b094018c55611b24565b90919082549060031b916001600160a01b03809116831b921b1916179055565b611e67565b610353565b86634e487b7160e01b60005260416004526000fd5b005b866000527fd7b6990105719101dabeb77144f2a3385c8033acd3af97e9423a695e81ad1eb5908101905b818110610408575061034f565b600081556001016103fb565b81356001600160a01b038116810361029157815290830190830161031e565b634e487b7160e01b600052604160045260246000fd5b34610291576000366003190112610291576020600f54604051908152f35b3461029157600036600319011261029157602060ff60135416604051908152f35b34610291576040366003190112610291576104a1611af8565b6104a9611b0e565b906001600160a01b038091166000526001602052604060002091166000526020526020604060002054604051908152f35b34610291576000366003190112610291576020601154604051908152f35b34610291576020366003190112610291576020610289600435612007565b346102915760003660031901126102915760ff6015906105388183541661210a565b60149081549160018084018085116106d0578094610554611dca565b8210918261090f575b5050156108ca5780805b6106e6575b50506000198301908382116106d0575582541690816106c0575b5061058d57005b610595611ec6565b6001600160a01b039081600b541691604051911515837fdc04af0519d5b0f44211c3811133c21193d223810abd9d616819a606d674201d600080a3600e5416906370a0823160e01b81523060048201526020928382602481865afa90811561068157849260009261068d575b5060405163a9059cbb60e01b81526001600160a01b039091166004820152602481019190915291829081600081604481015b03925af1801561068157610653575b5050805460ff191690556000601155005b8161067292903d1061067a575b61066a8183611ba8565b810190612211565b508180610642565b503d610660565b6040513d6000823e3d90fd5b8381949293503d83116106b9575b6106a58183611ba8565b810103126102915790518391610633610601565b503d61069b565b6106ca9150611e53565b82610586565b634e487b7160e01b600052601160045260246000fd5b9390931561089a575b6000906106fb81611e76565b1585811561088f57506001600160a01b0380600e541690600b541690604051809281926370a0823160e01b8352816004840152602092839160249586915afa938415610681578a9260009561085c575b5050600f54809410801561084d575b1561083a57505060138054918883169089821461082657506107e694928a979694928a896002940116809260ff191617905510156000146107ec5750600060116107a581543061271e565b556107ae6128d1565b15816001600160a01b03600b54167f314982850d75a895e69ed5306d50952c840ac6088ea79ab2dd4e9fc1ae7de007600080a4611e67565b94610567565b60119080825410156000146108175780610809610810923061271e565b8254611d90565b90556107ae565b50506108216128d1565b6107ae565b634e487b7160e01b60009081526011600452fd5b6107e6949250926108219196959361271e565b50610856611f5b565b1561075a565b809295508193503d8311610888575b6108758183611ba8565b8101031261029157889051928b8061074b565b503d61086b565b92916107e6916107ae565b82855416806108af575b6106ef57928061056c565b506108b8611dca565b811080156108a45750815481116108a4565b60405162461bcd60e51b815260206004820152601760248201527f416c6c206379636c6573206172652075706461746564210000000000000000006044820152606490fd5b119050868061055d565b346102915760003660031901126102915760206001600160a01b0360075416604051908152f35b3461029157604036600319011261029157610959611af8565b6024356109726001600160a01b03600b541633146126bb565b80156109dc573060005260006020528060406000205410610997576103cf9133611d3c565b60405162461bcd60e51b815260206004820152601b60248201527f4e6f7420656e6f75676820617661696c61626c6520746f6b656e7300000000006044820152606490fd5b60405162461bcd60e51b815260206004820152601d60248201527f416d6f756e74206d7573742062652067726561746572207468616e20300000006044820152606490fd5b34610291576000366003190112610291576020610289611dca565b346102915760203660031901126102915760043560125481101561029157610a6390611c21565b508054610a7260018301611c96565b91610ad0610a8260028301611c96565b91610ac26004610a9460038401611c96565b92015493610ab4604051978897885260a0602089015260a0880190611ab8565b908682036040880152611ab8565b908482036060860152611ab8565b9060808301520390f35b346102915760603660031901126102915760043567ffffffffffffffff811161029157610b0b903690600401611bca565b60243567ffffffffffffffff811161029157610b2b903690600401611bca565b9060443567ffffffffffffffff811161029157610b4c903690600401611bca565b90610b636001600160a01b03600b541633146126bb565b610b7160ff6015541661210a565b610b79611dca565b6040519060a0820182811067ffffffffffffffff82111761043357604052815260208101908282528460408201528360608201524260808201526012546801000000000000000081101561043357806001610bd79201601255611c21565b929092610fba57815183555180519067ffffffffffffffff8211610433578190610c046001860154611c5c565b601f8111610f85575b50602090601f8311600114610f1357600092610f08575b50508160011b916000199060031b1c19161760018301555b604081015180519067ffffffffffffffff8211610433578190610c626002860154611c5c565b601f8111610ed3575b50602090601f8311600114610e6157600092610e56575b50508160011b916000199060031b1c19161760028301555b60038201606082015180519067ffffffffffffffff821161043357610cbf8354611c5c565b601f8111610e19575b50602090601f8311600114610d855793610d599593836004946080947fbef18c52f28775734d9f24e79ca62e3888724c83307a5fbb662aa20b001e01459a98600092610d7a575b50508160011b916000199060031b1c19161790555b0151910155610d756001600160a01b03600b541694610d67610d44611dca565b97604051958695606087526060870190611ab8565b908582036020870152611ab8565b908382036040850152611ab8565b0390a3005b015190508c80610d0f565b90601f198316918460005260206000209260005b818110610e015750846080947fbef18c52f28775734d9f24e79ca62e3888724c83307a5fbb662aa20b001e01459a9894610d599a989460049860019510610de8575b505050811b019055610d24565b015160001960f88460031b161c191690558c8080610ddb565b92936020600181928786015181550195019301610d99565b610e4690846000526020600020601f850160051c81019160208610610e4c575b601f0160051c0190612707565b88610cc8565b9091508190610e39565b015190508780610c82565b9250600285016000526020600020906000935b601f1984168510610eb8576001945083601f19811610610e9f575b505050811b016002830155610c9a565b015160001960f88460031b161c19169055878080610e8f565b81810151835560209485019460019093019290910190610e74565b610f0290600287016000526020600020601f850160051c81019160208610610e4c57601f0160051c0190612707565b88610c6b565b015190508780610c24565b9250600185016000526020600020906000935b601f1984168510610f6a576001945083601f19811610610f51575b505050811b016001830155610c3c565b015160001960f88460031b161c19169055878080610f41565b81810151835560209485019460019093019290910190610f26565b610fb490600187016000526020600020601f850160051c81019160208610610e4c57601f0160051c0190612707565b88610c0d565b634e487b7160e01b600052600060045260246000fd5b34610291576000366003190112610291576001600160a01b03610ff881600b541633146126bb565b61100660ff6015541661210a565b61100e611f42565b906011548281101561109457611061602091611031600094600e54169186611d90565b6040516323b872dd60e01b8152336004820152306024820152604481019190915293849283919082906064820190565b03925af1801561068157611076575b50601155005b61108d9060203d811161067a5761066a8183611ba8565b5081611070565b60405162461bcd60e51b815260206004820152601460248201527f48617665206265656e206465706f7369746564210000000000000000000000006044820152606490fd5b34610291576000366003190112610291576020600654604051908152f35b346102915760403660031901126102915761111d611113611af8565b6024359033611d3c565b602060405160018152f35b34610291576000366003190112610291576020611143611f5b565b6040519015158152f35b34610291576020366003190112610291576020600a546004351015604051908152f35b34610291576000366003190112610291576020601454604051908152f35b346102915760003660031901126102915760405160006004546111b081611c5c565b8084529060019081811690811561124d57506001146111f2575b6111ee846111da81860382611ba8565b604051918291602083526020830190611ab8565b0390f35b6004600090815292507f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b5b8284106112355750505081016020016111da826111ca565b8054602085870181019190915290930192810161121d565b60ff191660208087019190915292151560051b850190920192506111da91508390506111ca565b346102915760203660031901126102915761128d6121ee565b61129b60ff6015541661210a565b600d54806112db575b50601054806112c8575b6112c16112bc600435612007565b612229565b6001600555005b6112d590600c54106121a2565b806112ae565b6000805b8281106112f8575b506112f29150612156565b806112a4565b6001600160a01b0361130982611b24565b90549060031b1c1633146113255761132090611e67565b6112df565b5050506112f26001826112e7565b3461029157600036600319011261029157602060405168056bc75e2d631000008152f35b3461029157602036600319011261029157600435600d54811015610291576001600160a01b03611388602092611b24565b9190546040519260031b1c168152f35b34610291576000366003190112610291576020600854604051908152f35b34610291576020366003190112610291576020611143600435611e53565b34610291576020366003190112610291576020611143600435611e76565b3461029157600036600319011261029157602060ff60155460081c166040519015158152f35b34610291576020366003190112610291576001600160a01b03611439611af8565b1660005260006020526020604060002054604051908152f35b34610291576000366003190112610291576020600954604051908152f35b34610291576000366003190112610291576101406006546001600160a01b0380600b5416906008549060095490600a5490600e5416600f549160105493600c549560125497604051998a5260208a015260408901526060880152608087015260a086015260c085015260e0840152610100830152610120820152f35b346102915760203660031901126102915760206102896004356120be565b3461029157602036600319011261029157602061028961152b600435612007565b6120be565b3461029157602036600319011261029157600435801515809103610291576115646001600160a01b03600b541633146126bb565b61ff006015549160081b169061ff00191617601555600080f35b346102915760003660031901126102915760206001600160a01b03600b5416604051908152f35b34610291576020366003190112610291576115e96115c1611af8565b3060005260006020526001600160a01b03604060002054911660005260406000205490611dbd565b612710908181029181830414901517156106d05761028960209160025490611d9d565b3461029157600036600319011261029157602060405160c88152f35b34610291576020366003190112610291576020600435611646611dca565b8110908161165a575b506040519015158152f35b9050601454108261164f565b34610291576000366003190112610291576020610289611f42565b3461029157602036600319011261029157600435600c54811015610291576001600160a01b03611388602092611b71565b3461029157600036600319011261029157602060405160128152f35b34610291576000366003190112610291576020600a54604051908152f35b3461029157600036600319011261029157602060405169d3c21bcecceda10000008152f35b346102915760003660031901126102915760206001600160a01b03600e5416604051908152f35b34610291576000366003190112610291576020601054604051908152f35b346102915760603660031901126102915761176f611af8565b611777611b0e565b604435906001600160a01b038316928360005260016020526040600020336000526020526040600020549360001985106117b7575b5061111d9350611d3c565b83851061182357801561180a5733156117f15761111d948491600052600160205260406000203360005260205203604060002055846117ac565b604051634a1406b160e11b815260006004820152602490fd5b60405163e602df0560e01b815260006004820152602490fd5b604051637dc7a0d960e11b81523360048201526024810186905260448101859052606490fd5b34610291576020366003190112610291576118626121ee565b61187060ff6015541661210a565b600d54806118a1575b506010548061188e575b6112c1600435612229565b61189b90600c54106121a2565b80611883565b6000805b8281106118be575b506118b89150612156565b80611879565b6001600160a01b036118cf82611b24565b90549060031b1c1633146118eb576118e690611e67565b6118a5565b5050506118b86001826118ad565b3461029157600036600319011261029157602060ff601554166040519015158152f35b34610291576000366003190112610291576020600254604051908152f35b3461029157600036600319011261029157602060405160038152f35b34610291576000366003190112610291576020610289611e19565b346102915760403660031901126102915761198a611af8565b60243590331561180a576001600160a01b03169081156117f157336000526001602052604060002082600052602052806040600020556040519081527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560203392a3602060405160018152f35b34610291576000366003190112610291576040516000600354611a1981611c5c565b8084529060019081811690811561124d5750600114611a42576111ee846111da81860382611ba8565b6003600090815292507fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b5b828410611a855750505081016020016111da826111ca565b80546020858701810191909152909301928101611a6d565b34610291576000366003190112610291576020611143611ec6565b919082519283825260005b848110611ae4575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201611ac3565b600435906001600160a01b038216820361029157565b602435906001600160a01b038216820361029157565b600d54811015611b5b57600d6000527fd7b6990105719101dabeb77144f2a3385c8033acd3af97e9423a695e81ad1eb50190600090565b634e487b7160e01b600052603260045260246000fd5b600c54811015611b5b57600c6000527fdf6966c971051c3d54ec59162606531493a51404a002842f56009d7e5cf4a8c70190600090565b90601f8019910116810190811067ffffffffffffffff82111761043357604052565b81601f820112156102915780359067ffffffffffffffff82116104335760405192611bff601f8401601f191660200185611ba8565b8284526020838301011161029157816000926020809301838601378301015290565b601254811015611b5b576005906012600052027fbb8a6a4669ba250d26cd7a459eca9d215f8307e33aebe50379bc5a3617ec34440190600090565b90600182811c92168015611c8c575b6020831014611c7657565b634e487b7160e01b600052602260045260246000fd5b91607f1691611c6b565b9060405191826000825492611caa84611c5c565b908184526001948581169081600014611d195750600114611cd6575b5050611cd492500383611ba8565b565b9093915060005260209081600020936000915b818310611d01575050611cd493508201013880611cc6565b85548884018501529485019487945091830191611ce9565b915050611cd494506020925060ff191682840152151560051b8201013880611cc6565b91906001600160a01b0380841615611d7757811615611d5e57611cd4926123e8565b60405163ec442f0560e01b815260006004820152602490fd5b604051634b637e8f60e11b815260006004820152602490fd5b919082039182116106d057565b8115611da7570490565b634e487b7160e01b600052601260045260246000fd5b919082018092116106d057565b600854804210611e1357611de1611dea9142611d90565b60095490611d9d565b600181018091116106d057600a54808211611e03575090565b9050600181018091116106d05790565b50600090565b611e21611dca565b600081611e2f575050600090565b6000198201918211611e3f575090565b634e487b7160e01b81526011600452602490fd5b600a5490600182018092116106d057101590565b60001981146106d05760010190565b6012549060005b828110611e8c57505050600090565b81611e9682611c21565b505414611eab57611ea690611e67565b611e7d565b505050600190565b818102929181159184041417156106d057565b60006001600a54905b81811115611ef45750603c810290808204603c14901517156106d05760649004111590565b611efd81611e76565b611f10575b611f0b90611e67565b611ecf565b91611f1d611f0b91611e67565b929050611f02565b600f54600a54600301806003116106d057611f3f91611eb3565b90565b600f546003810290808204600314901517156106d05790565b6001600160a01b03602081600e541691600b5416604460405180948193636eb1769f60e11b835260048301523060248301525afa90811561068157600091611fd3575b5060115415611fcb57611fc6611fbe600a54611fb8611e19565b90611d90565b600f54611eb3565b111590565b611fc6611f25565b906020823d8211611fff575b81611fec60209383611ba8565b81010312611ffc57505138611f9e565b80fd5b3d9150611fdf565b90600091308352826020526040832054906120256002549283611d90565b3385528460205260408520549061271093848410156120b657506120499083611eb3565b81840291848304036120a2579061205f91611d90565b90820391821161208e57612074929350611d9d565b68056bc75e2d63100000808210612089575090565b905090565b634e487b7160e01b84526011600452602484fd5b634e487b7160e01b86526011600452602486fd5b955050505050565b6120de9068056bc75e2d63100000808210612102575b50600f5490611eb3565b6064810290808204606414901517156106d0576aa56fa5b99019a5c8000000900490565b9050386120d4565b1561211157565b60405162461bcd60e51b815260206004820152600b60248201527f4e6f7420737461727465640000000000000000000000000000000000000000006044820152606490fd5b1561215d57565b60405162461bcd60e51b815260206004820152601060248201527f4e6f7420696e2077686974656c697374000000000000000000000000000000006044820152606490fd5b156121a957565b60405162461bcd60e51b815260206004820152601760248201527f5061727469636970616e7473206f766572206c696d69740000000000000000006044820152606490fd5b6002600554146121ff576002600555565b604051633ee5aeb560e01b8152600490fd5b90816020910312610291575180151581036102915790565b68056bc75e2d631000008082106123e0575b506000308152602081815260409182812054841161239d5761225c846120be565b90811561235957600e5484516323b872dd60e01b815233600482015230602482015260448101939093526001600160a01b039290849082906064908290869088165af191821561234e5791612331575b50156122ee57907f8ed860f76da405897619eab937f09dcb4d0d9b56cf68a3d489130a2489cf151f916122e0853330611d3c565b600b541692519384523393a3565b50606491519062461bcd60e51b82526004820152600f60248201527f5472616e73666572206661696c656400000000000000000000000000000000006044820152fd5b6123489150833d851161067a5761066a8183611ba8565b386122ac565b8551903d90823e3d90fd5b835162461bcd60e51b815260048101849052600e60248201527f436f737420746f6f20736d616c6c0000000000000000000000000000000000006044820152606490fd5b50606491519062461bcd60e51b82526004820152601160248201527f4e6f7420656e6f75676820746f6b656e730000000000000000000000000000006044820152fd5b90503861223b565b916001600160a01b0391828416938415908160001461265d575061240e83600254611dbd565b6002555b81841690811580156126445784600254036002555b82877fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020604051898152a3811561263c575b506126355760009281845283602052604084205414908161262a575b50612564575b503083141580612551575b61249057505050565b805b600c80549081831015612549578491866124ab85611b71565b949054600395861b1c16146124cb575050506124c690611e67565b612492565b91955093926000199290918381019081116125355790610390856124f16124fe94611b71565b9054908a1b1c1691611b71565b83549081156125215750019261251384611b71565b81939154921b1b1916905555565b634e487b7160e01b81526031600452602490fd5b634e487b7160e01b83526011600452602483fd5b505050505050565b5082815280602052604081205415612487565b601054806125b0575b50600c546801000000000000000081101561259c57906103908260016125969401600c55611b71565b3861247c565b634e487b7160e01b83526041600452602483fd5b600c5410156125bf573861256d565b60405162461bcd60e51b815260206004820152602760248201527f5472616e7366657220776f756c6420657863656564207061727469636970616e60448201527f74206c696d6974000000000000000000000000000000000000000000000000006064820152608490fd5b905030141538612476565b5050505050565b90503861245a565b8260005260006020526040600020858154019055612427565b600090868252816020526040822054908582106126895750846040918884528360205203912055612412565b60405163391434e360e21b81526001600160a01b03919091166004820152602481019190915260448101859052606490fd5b156126c257565b60405162461bcd60e51b815260206004820152600f60248201527f4e6f74206368616c6c656e6765722100000000000000000000000000000000006044820152606490fd5b818110612712575050565b60008155600101612707565b9190916001600160a01b039283600e54169360025492600030815260209681885261274f6040968784205490611d90565b80156128c657825b600c548110156128ba578561276b82611b71565b90549060031b1c16808552848b5261278f8361278a8b8820548b611eb3565b611d9d565b90816127a6575b50506127a190611e67565b612757565b8b82888a163003612853578b5163a9059cbb60e01b81526001600160a01b0393909316600484015260248301528160448189895af1801561284957906127a193929161282c575b505b87600b54167f2c57dec1db0095a6b800c2698d5bbceef2c180c6ac43429769a719658983f6778d61281e611dca565b938d51908152a39038612796565b612842908d803d1061067a5761066a8183611ba8565b50386127ed565b8a513d88823e3d90fd5b8b516323b872dd60e01b81526001600160a01b038a8116600483015293909316602484015260448301528160648189895af1801561284957906127a193929161289d575b506127ef565b6128b3908d803d1061067a5761066a8183611ba8565b5038612897565b50505050505050509050565b505050505050509050565b6001600160a01b0380600b54166040519060009283827fdc04af0519d5b0f44211c3811133c21193d223810abd9d616819a606d674201d8280a3600e546370a0823160e01b845230600485015260209391168382602481845afa9182156129ec579084929186926129b6575b5060405163a9059cbb60e01b81526001600160a01b03909416600485015260248401919091528290818681604481015b03925af180156129ab5761298d575b505060ff1960155416601555601155565b816129a392903d1061067a5761066a8183611ba8565b50388061297c565b6040513d85823e3d90fd5b8092508391933d83116129e5575b6129ce8183611ba8565b810103126129e15751839161296d61293d565b8480fd5b503d6129c4565b6040513d87823e3d90fdfea2646970667358221220f97d6f497ed07fce77c809e9ffc5061f49af96d98b4ad310c9ea9bc526d2b16f64736f6c63430008140033";

  const [factory] = await makeContract("ChallengeFactory");

  const admin = await factory.owner();
  console.log("Admin:", admin);

  const challengeCode = await factory.challengeCode()
  console.log("challengeCode:", challengeCode);

  if (bytecode != challengeCode) {
    await sendTx(factory.updateChallengeImplementation(bytecode), "Update challengeCode")
  }
}

deploy(hre).catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
