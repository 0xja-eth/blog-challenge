import { HardhatRuntimeEnvironment } from "hardhat/types";
import dotenv from "dotenv"
import {mainWallet, makeContract, sendTx, setupHRE} from "../../utils/contract";
import hre from "hardhat";
import {ethers} from "ethers";

dotenv.config();

export async function deploy(hre: HardhatRuntimeEnvironment) {
  setupHRE(hre);

  const bytecode = "0x608060409080825234620005e35761014081620033888038038091620000268285620005e8565b833981010312620005e357620000d691815162000046602084016200060c565b82840151936060810151926080820151926200006560a084016200060c565b9160c08401519160e0850151936200009061012062000088610100890162000621565b970162000621565b96620000e6620000a08562000678565b8b519d8e917f426c6f67204368616c6c656e676520546f6b656e202300000000000000000000602084015260368301906200062f565b038d601f19820190528d620005e8565b620000f18462000678565b9b620001296200011a8c519e8f91829164424c4f472360d81b602084015260258301906200062f565b0390601f1982018152620005e8565b8051906001600160401b038211620004b55760035490600182811c92168015620005d8575b6020831014620004945781601f84931162000566575b50602090601f8311600114620004d757600092620004cb575b50508160011b916000199060031b1c1916176003555b8b516001600160401b038111620004b557600454600181811c91168015620004aa575b60208210146200049457601f81116200042e575b506020601f82116001146200039a57819060019b9c9d9e6000926200038e575b5050600019600383901b1c1916908a1b176004555b88600555888060a01b03199333856007541617600755600655888060a01b03998a8094169c8d86600b541617600b55600855600955600a551690600e541617600e55600f5560105560ff801960115416911515161760115561ff0060165491151560081b169061ffff191617176016553015620003765760025469d3c21bcecceda100000090818101809111620003605760025530600052600060205282600020818154019055825190815260007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60203093a3600b54163014620003115751907e6e601524fde8440cd9b7e92996d5925217815155fb8d040434a694754a1ccd600080a2612b8f9081620007f98239f35b5162461bcd60e51b8152602060048201526024808201527f43616e6e6f742073656e6420746f6b656e20746f20626c6f67206368616c6c656044820152633733b2b960e11b6064820152608490fd5b634e487b7160e01b600052601160045260246000fd5b815163ec442f0560e01b815260006004820152602490fd5b015190503880620001ea565b60046000908152919d7f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b928f5b601f19168110620004145750918e9160019c9d9e9f938d94601f19811610620003fa575b505050811b01600455620001ff565b015160001960f88460031b161c19169055388080620003eb565b818301518455600190930192602092830192018f620003c7565b60046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b601f830160051c8101602084106200048c575b601f830160051c820181106200047f575050620001ca565b6000815560010162000467565b508062000467565b634e487b7160e01b600052602260045260246000fd5b90607f1690620001b6565b634e487b7160e01b600052604160045260246000fd5b0151905038806200017d565b6003600090815293507fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b91905b601f19841685106200054a576001945083601f1981161062000530575b505050811b0160035562000193565b015160001960f88460031b161c1916905538808062000521565b8181015183556020948501946001909301929091019062000504565b60036000529091507fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b601f840160051c810160208510620005d0575b90849392915b601f830160051c82018110620005c057505062000164565b60008155859450600101620005a8565b5080620005a2565b91607f16916200014e565b600080fd5b601f909101601f19168101906001600160401b03821190821017620004b557604052565b51906001600160a01b0382168203620005e357565b51908115158203620005e357565b9081519160005b83811062000648575050016000815290565b806020809284010151818501520162000636565b6001600160401b038111620004b557601f01601f191660200190565b806000917a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000080821015620007e9575b506d04ee2d6d415b85acef810000000080831015620007d9575b50662386f26fc1000080831015620007c9575b506305f5e10080831015620007b9575b5061271080831015620007a9575b50606482101562000798575b600a809210156200078d575b600190816021818601956200071a876200065c565b966200072a6040519889620005e8565b8088526200073b601f19916200065c565b01366020890137860101905b62000754575b5050505090565b600019019083906f181899199a1a9b1b9c1cb0b131b232b360811b8282061a835304918215620007875791908262000747565b6200074d565b916001019162000705565b9190606460029104910191620006f9565b60049193920491019138620006ed565b60089193920491019138620006df565b60109193920491019138620006cf565b60209193920491019138620006bc565b604093508104915038620006a256fe6080604052600436101561001257600080fd5b60003560e01c8063011e649214611a8557806306fdde03146119df578063095ea7b3146119595780630c2de5841461193e57806313fb3f331461192257806318160ddd146119045780631865c57d1461189e5780631f2698ab1461187b57806321fb21a7146117b057806323b872dd146116bd57806324924bf71461169f5780632c2d7709146116785780632ff2e9dc146116535780632ffa9f0514611635578063313ce5671461161957806335c1d349146115e8578063419759f5146115cd57806341ce7c8e1461158f57806344d6ab5c146115735780634f2e591c14611550578063534db0e2146115295780635717496a1461150357806359aa9055146114e55780635a9b0b891461146d578063615d1a251461144a5780636190c9d51461142c57806365c078101461140657806370a08231146113cc578063744535ba146113ae578063775f977e1461139057806378e97925146113725780637ebd1b3014611331578063822a37851461130d578063845c93061461123357806395d89b411461114d5780639d1523331461112f578063a25b0a091461110c578063a8ba642a146110e7578063a9059cbb146110b6578063aea7a11614611068578063af640d0f1461104a578063b01ca7a414610f41578063b4fca20c14610a4b578063b69acfa2146109ad578063bab2f55214610992578063bec3fa1714610956578063c45a01551461092f578063c65af6221461052c578063ced1afbf1461050e578063d0e30db0146104f0578063dd62ed3e1461049e578063df764cfd1461047d578063f218f48c1461045f578063f4217648146102c8578063fb104286146102ac5763fceb0f3b1461028457600080fd5b346102a75760003660031901126102a757602061029f611f0d565b604051908152f35b600080fd5b346102a75760003660031901126102a7576020604051603c8152f35b346102a7576020806003193601126102a75767ffffffffffffffff906004358281116102a757366023820112156102a75780600401359283116104495760059183831b916040519461031c83850187611b90565b855281850160248094830101913683116102a7578401905b82821061042a575050506001600160a01b039061035682600b5416331461281d565b600d94855460008755806103e7575b5060005b81518110156103e557838382881b84010151168754680100000000000000008110156103d0576103cb92916103a68260016103c694018c55611b0c565b90919082549060031b916001600160a01b03809116831b921b1916179055565b611e4f565b610369565b86634e487b7160e01b60005260416004526000fd5b005b866000527fd7b6990105719101dabeb77144f2a3385c8033acd3af97e9423a695e81ad1eb5908101905b81811061041e5750610365565b60008155600101610411565b81356001600160a01b03811681036102a7578152908301908301610334565b634e487b7160e01b600052604160045260246000fd5b346102a75760003660031901126102a7576020600f54604051908152f35b346102a75760003660031901126102a757602060ff60145416604051908152f35b346102a75760403660031901126102a7576104b7611ae0565b6104bf611af6565b906001600160a01b038091166000526001602052604060002091166000526020526020604060002054604051908152f35b346102a75760003660031901126102a7576020601254604051908152f35b346102a75760203660031901126102a757602061029f600435612060565b346102a75760003660031901126102a75760ff60169061054e81835416612185565b60159081549160018084018085116106e657809461056a611db2565b82109182610925575b5050156108e05780805b6106fc575b50506000198301908382116106e6575582541690816106d6575b506105a357005b6105ab611eae565b6001600160a01b039081600b541691604051911515837fdc04af0519d5b0f44211c3811133c21193d223810abd9d616819a606d674201d600080a3600e5416906370a0823160e01b81523060048201526020928382602481865afa9081156106975784926000926106a3575b5060405163a9059cbb60e01b81526001600160a01b039091166004820152602481019190915291829081600081604481015b03925af1801561069757610669575b5050805460ff191690556000601255005b8161068892903d10610690575b6106808183611b90565b8101906122d8565b508180610658565b503d610676565b6040513d6000823e3d90fd5b8381949293503d83116106cf575b6106bb8183611b90565b810103126102a75790518391610649610617565b503d6106b1565b6106e09150611e3b565b8261059c565b634e487b7160e01b600052601160045260246000fd5b939093156108b0575b60009061071181611e5e565b158581156108a557506001600160a01b0380600e541690600b541690604051809281926370a0823160e01b8352816004840152602092839160249586915afa938415610697578a92600095610872575b5050600f548094108015610863575b1561085057505060148054918883169089821461083c57506107fc94928a979694928a896002940116809260ff191617905510156000146108025750600060126107bb815430612880565b556107c4612a33565b15816001600160a01b03600b54167f314982850d75a895e69ed5306d50952c840ac6088ea79ab2dd4e9fc1ae7de007600080a4611e4f565b9461057d565b601290808254101560001461082d578061081f6108269230612880565b8254611d78565b90556107c4565b5050610837612a33565b6107c4565b634e487b7160e01b60009081526011600452fd5b6107fc9492509261083791969593612880565b5061086c611f43565b15610770565b809295508193503d831161089e575b61088b8183611b90565b810103126102a757889051928b80610761565b503d610881565b92916107fc916107c4565b82855416806108c5575b610705579280610582565b506108ce611db2565b811080156108ba5750815481116108ba565b60405162461bcd60e51b815260206004820152601760248201527f416c6c206379636c6573206172652075706461746564210000000000000000006044820152606490fd5b1190508680610573565b346102a75760003660031901126102a75760206001600160a01b0360075416604051908152f35b346102a75760403660031901126102a7576103e5610972611ae0565b6109886001600160a01b03600b5416331461281d565b6024359030611d24565b346102a75760003660031901126102a757602061029f611db2565b346102a75760203660031901126102a7576004356013548110156102a7576109d490611c09565b5080546109e360018301611c7e565b91610a416109f360028301611c7e565b91610a336004610a0560038401611c7e565b92015493610a25604051978897885260a0602089015260a0880190611aa0565b908682036040880152611aa0565b908482036060860152611aa0565b9060808301520390f35b346102a75760603660031901126102a75760043567ffffffffffffffff81116102a757610a7c903690600401611bb2565b60243567ffffffffffffffff81116102a757610a9c903690600401611bb2565b9060443567ffffffffffffffff81116102a757610abd903690600401611bb2565b90610ad46001600160a01b03600b5416331461281d565b610ae260ff60165416612185565b610aea611db2565b6040519060a0820182811067ffffffffffffffff82111761044957604052815260208101908282528460408201528360608201524260808201526013546801000000000000000081101561044957806001610b489201601355611c09565b929092610f2b57815183555180519067ffffffffffffffff8211610449578190610b756001860154611c44565b601f8111610ef6575b50602090601f8311600114610e8457600092610e79575b50508160011b916000199060031b1c19161760018301555b604081015180519067ffffffffffffffff8211610449578190610bd36002860154611c44565b601f8111610e44575b50602090601f8311600114610dd257600092610dc7575b50508160011b916000199060031b1c19161760028301555b60038201606082015180519067ffffffffffffffff821161044957610c308354611c44565b601f8111610d8a575b50602090601f8311600114610cf65793610cca9593836004946080947fbef18c52f28775734d9f24e79ca62e3888724c83307a5fbb662aa20b001e01459a98600092610ceb575b50508160011b916000199060031b1c19161790555b0151910155610ce66001600160a01b03600b541694610cd8610cb5611db2565b97604051958695606087526060870190611aa0565b908582036020870152611aa0565b908382036040850152611aa0565b0390a3005b015190508c80610c80565b90601f198316918460005260206000209260005b818110610d725750846080947fbef18c52f28775734d9f24e79ca62e3888724c83307a5fbb662aa20b001e01459a9894610cca9a989460049860019510610d59575b505050811b019055610c95565b015160001960f88460031b161c191690558c8080610d4c565b92936020600181928786015181550195019301610d0a565b610db790846000526020600020601f850160051c81019160208610610dbd575b601f0160051c0190612869565b88610c39565b9091508190610daa565b015190508780610bf3565b9250600285016000526020600020906000935b601f1984168510610e29576001945083601f19811610610e10575b505050811b016002830155610c0b565b015160001960f88460031b161c19169055878080610e00565b81810151835560209485019460019093019290910190610de5565b610e7390600287016000526020600020601f850160051c81019160208610610dbd57601f0160051c0190612869565b88610bdc565b015190508780610b95565b9250600185016000526020600020906000935b601f1984168510610edb576001945083601f19811610610ec2575b505050811b016001830155610bad565b015160001960f88460031b161c19169055878080610eb2565b81810151835560209485019460019093019290910190610e97565b610f2590600187016000526020600020601f850160051c81019160208610610dbd57601f0160051c0190612869565b88610b7e565b634e487b7160e01b600052600060045260246000fd5b346102a75760003660031901126102a7576001600160a01b03610f6981600b5416331461281d565b610f7760ff60165416612185565b610f7f611f2a565b906012548281101561100557610fd2602091610fa2600094600e54169186611d78565b6040516323b872dd60e01b8152336004820152306024820152604481019190915293849283919082906064820190565b03925af1801561069757610fe7575b50601255005b610ffe9060203d8111610690576106808183611b90565b5081610fe1565b60405162461bcd60e51b815260206004820152601460248201527f48617665206265656e206465706f7369746564210000000000000000000000006044820152606490fd5b346102a75760003660031901126102a7576020600654604051908152f35b346102a75760203660031901126102a7576004358015158091036102a75761109c6001600160a01b03600b5416331461281d565b61ff006016549160081b169061ff00191617601655600080f35b346102a75760403660031901126102a7576110dc6110d2611ae0565b6024359033611d24565b602060405160018152f35b346102a75760003660031901126102a7576020611102611f43565b6040519015158152f35b346102a75760203660031901126102a7576020600a546004351015604051908152f35b346102a75760003660031901126102a7576020601554604051908152f35b346102a75760003660031901126102a757604051600060045461116f81611c44565b8084529060019081811690811561120c57506001146111b1575b6111ad8461119981860382611b90565b604051918291602083526020830190611aa0565b0390f35b6004600090815292507f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b5b8284106111f457505050810160200161119982611189565b805460208587018101919091529093019281016111dc565b60ff191660208087019190915292151560051b850190920192506111999150839050611189565b346102a75760203660031901126102a75761124c6122b5565b60165461125b60ff8216612185565b600d54806112aa575b5060ff6112749160081c1661221d565b60105480611297575b61129061128b600435612060565b6122f0565b6001600555005b6112a490600c5410612269565b8061127d565b60009060005b8181106112d0575b5050611274916112c960ff926121d1565b9150611264565b6001600160a01b036112e182611b0c565b90549060031b1c1633146112fd576112f890611e4f565b6112b0565b50600191508290506112c96112b8565b346102a75760003660031901126102a757602060405168056bc75e2d631000008152f35b346102a75760203660031901126102a757600435600d548110156102a7576001600160a01b03611362602092611b0c565b9190546040519260031b1c168152f35b346102a75760003660031901126102a7576020600854604051908152f35b346102a75760203660031901126102a7576020611102600435611e3b565b346102a75760203660031901126102a7576020611102600435611e5e565b346102a75760203660031901126102a7576001600160a01b036113ed611ae0565b1660005260006020526020604060002054604051908152f35b346102a75760003660031901126102a757602060ff60165460081c166040519015158152f35b346102a75760003660031901126102a7576020600954604051908152f35b346102a75760003660031901126102a757602060ff601154166040519015158152f35b346102a75760003660031901126102a7576101206006546001600160a01b0380600b5416906008549060095490600a5490600e541690600f54926010549460ff6011541696604051988952602089015260408801526060870152608086015260a085015260c084015260e08301521515610100820152f35b346102a75760203660031901126102a757602061029f60043561212f565b346102a75760203660031901126102a757602061029f611524600435612060565b61212f565b346102a75760003660031901126102a75760206001600160a01b03600b5416604051908152f35b346102a75760203660031901126102a757602061029f61156e611ae0565b611fef565b346102a75760003660031901126102a757602060405160c88152f35b346102a75760203660031901126102a75760206004356115ad611db2565b811090816115c1575b506040519015158152f35b905060155410826115b6565b346102a75760003660031901126102a757602061029f611f2a565b346102a75760203660031901126102a757600435600c548110156102a7576001600160a01b03611362602092611b59565b346102a75760003660031901126102a757602060405160128152f35b346102a75760003660031901126102a7576020600a54604051908152f35b346102a75760003660031901126102a757602060405169d3c21bcecceda10000008152f35b346102a75760003660031901126102a75760206001600160a01b03600e5416604051908152f35b346102a75760003660031901126102a7576020601054604051908152f35b346102a75760603660031901126102a7576116d6611ae0565b6116de611af6565b604435906001600160a01b0383169283600052600160205260406000203360005260205260406000205493600019851061171e575b506110dc9350611d24565b83851061178a578015611771573315611758576110dc94849160005260016020526040600020336000526020520360406000205584611713565b604051634a1406b160e11b815260006004820152602490fd5b60405163e602df0560e01b815260006004820152602490fd5b604051637dc7a0d960e11b81523360048201526024810186905260448101859052606490fd5b346102a75760203660031901126102a7576117c96122b5565b6016546117d860ff8216612185565b600d5480611818575b5060ff6117f19160081c1661221d565b60105480611805575b6112906004356122f0565b61181290600c5410612269565b806117fa565b60009060005b81811061183e575b50506117f19161183760ff926121d1565b91506117e1565b6001600160a01b0361184f82611b0c565b90549060031b1c16331461186b5761186690611e4f565b61181e565b5060019150829050611837611826565b346102a75760003660031901126102a757602060ff601654166040519015158152f35b346102a75760003660031901126102a75760e06118b9611db2565b601654600c546013546012549160ff6118d0611f43565b946040519687528181161515602088015260081c16151560408601526060850152608084015260a0830152151560c0820152f35b346102a75760003660031901126102a7576020600254604051908152f35b346102a75760003660031901126102a757602060405160038152f35b346102a75760003660031901126102a757602061029f611e01565b346102a75760403660031901126102a757611972611ae0565b602435903315611771576001600160a01b031690811561175857336000526001602052604060002082600052602052806040600020556040519081527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560203392a3602060405160018152f35b346102a75760003660031901126102a7576040516000600354611a0181611c44565b8084529060019081811690811561120c5750600114611a2a576111ad8461119981860382611b90565b6003600090815292507fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b5b828410611a6d57505050810160200161119982611189565b80546020858701810191909152909301928101611a55565b346102a75760003660031901126102a7576020611102611eae565b919082519283825260005b848110611acc575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201611aab565b600435906001600160a01b03821682036102a757565b602435906001600160a01b03821682036102a757565b600d54811015611b4357600d6000527fd7b6990105719101dabeb77144f2a3385c8033acd3af97e9423a695e81ad1eb50190600090565b634e487b7160e01b600052603260045260246000fd5b600c54811015611b4357600c6000527fdf6966c971051c3d54ec59162606531493a51404a002842f56009d7e5cf4a8c70190600090565b90601f8019910116810190811067ffffffffffffffff82111761044957604052565b81601f820112156102a75780359067ffffffffffffffff82116104495760405192611be7601f8401601f191660200185611b90565b828452602083830101116102a757816000926020809301838601378301015290565b601354811015611b43576005906013600052027f66de8ffda797e3de9c05e8fc57b3bf0ec28a930d40b0d285d93c06501cf6a0900190600090565b90600182811c92168015611c74575b6020831014611c5e57565b634e487b7160e01b600052602260045260246000fd5b91607f1691611c53565b9060405191826000825492611c9284611c44565b908184526001948581169081600014611d015750600114611cbe575b5050611cbc92500383611b90565b565b9093915060005260209081600020936000915b818310611ce9575050611cbc93508201013880611cae565b85548884018501529485019487945091830191611cd1565b915050611cbc94506020925060ff191682840152151560051b8201013880611cae565b91906001600160a01b0380841615611d5f57811615611d4657611cbc926124ee565b60405163ec442f0560e01b815260006004820152602490fd5b604051634b637e8f60e11b815260006004820152602490fd5b919082039182116106e657565b8115611d8f570490565b634e487b7160e01b600052601260045260246000fd5b919082018092116106e657565b600854804210611dfb57611dc9611dd29142611d78565b60095490611d85565b600181018091116106e657600a54808211611deb575090565b9050600181018091116106e65790565b50600090565b611e09611db2565b600081611e17575050600090565b6000198201918211611e27575090565b634e487b7160e01b81526011600452602490fd5b600a5490600182018092116106e657101590565b60001981146106e65760010190565b6013549060005b828110611e7457505050600090565b81611e7e82611c09565b505414611e9357611e8e90611e4f565b611e65565b505050600190565b818102929181159184041417156106e657565b60006001600a54905b81811115611edc5750603c810290808204603c14901517156106e65760649004111590565b611ee581611e5e565b611ef8575b611ef390611e4f565b611eb7565b91611f05611ef391611e4f565b929050611eea565b600f54600a54600301806003116106e657611f2791611e9b565b90565b600f546003810290808204600314901517156106e65790565b6001600160a01b03602081600e541691600b5416604460405180948193636eb1769f60e11b835260048301523060248301525afa90811561069757600091611fbb575b5060125415611fb357611fae611fa6600a54611fa0611e01565b90611d78565b600f54611e9b565b111590565b611fae611f0d565b906020823d8211611fe7575b81611fd460209383611b90565b81010312611fe457505138611f86565b80fd5b3d9150611fc7565b60ff6011541661204457612022600091308352826020526001600160a01b03604084205491168352604083205490611da5565b9061271091828102928184041490151715611e275750600254611f2791611d85565b50600c54600181018091116106e6578015611d8f576127100490565b9060ff6011541661212157600091308352826020526040832054906120886002549283611d78565b33855284602052604085205490612710938484101561211957506120ac9083611e9b565b818402918483040361210557906120c291611d78565b9082039182116120f1576120d7929350611d85565b68056bc75e2d631000008082106120ec575090565b905090565b634e487b7160e01b84526011600452602484fd5b634e487b7160e01b86526011600452602486fd5b955050505050565b68056bc75e2d631000009150565b60ff60115416611dfb576121599068056bc75e2d6310000080821061217d575b50600f5490611e9b565b6064810290808204606414901517156106e6576aa56fa5b99019a5c8000000900490565b90503861214f565b1561218c57565b60405162461bcd60e51b815260206004820152600b60248201527f4e6f7420737461727465640000000000000000000000000000000000000000006044820152606490fd5b156121d857565b60405162461bcd60e51b815260206004820152601060248201527f4e6f7420696e2077686974656c697374000000000000000000000000000000006044820152606490fd5b1561222457565b60405162461bcd60e51b815260206004820152601260248201527f4e6f74207061727469636970617461626c6500000000000000000000000000006044820152606490fd5b1561227057565b60405162461bcd60e51b815260206004820152601760248201527f5061727469636970616e7473206f766572206c696d69740000000000000000006044820152606490fd5b6002600554146122c6576002600555565b604051633ee5aeb560e01b8152600490fd5b908160209103126102a7575180151581036102a75790565b60ff6011541680612495575b8015612483575b612473575b60003081526020818152604091828120548411612430576123288461212f565b80612373575b50507f8ed860f76da405897619eab937f09dcb4d0d9b56cf68a3d489130a2489cf151f9061235d843330611d24565b6001600160a01b03600b541692519384523393a3565b600e5484516323b872dd60e01b8152336004820152306024820152604481019290925283908290606490829086906001600160a01b03165af19182156124255791612408575b50156123c657388061232e565b606491519062461bcd60e51b82526004820152600f60248201527f5472616e73666572206661696c656400000000000000000000000000000000006044820152fd5b61241f9150823d8411610690576106808183611b90565b386123b9565b8451903d90823e3d90fd5b50606491519062461bcd60e51b82526004820152601160248201527f4e6f7420656e6f75676820746f6b656e730000000000000000000000000000006044820152fd5b5068056bc75e2d63100000612308565b5068056bc75e2d631000008110612303565b336000526000602052604060002054156122fc5760405162461bcd60e51b815260206004820152601460248201527f416c7265616479207061727469636970617465640000000000000000000000006044820152606490fd5b916001600160a01b039182841693841590816000146127bf575061251483600254611da5565b6002555b81841690811580156127a65784600254036002555b82877fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020604051898152a385600b5416831461275557811561274d575b506127465760009281845283602052604084205414908161273b575b50612675575b503083141580612662575b6125a157505050565b805b600c8054908183101561265a578491866125bc85611b59565b949054600395861b1c16146125dc575050506125d790611e4f565b6125a3565b919550939260001992909183810190811161264657906103a68561260261260f94611b59565b9054908a1b1c1691611b59565b83549081156126325750019261262484611b59565b81939154921b1b1916905555565b634e487b7160e01b81526031600452602490fd5b634e487b7160e01b83526011600452602483fd5b505050505050565b5082815280602052604081205415612598565b601054806126c1575b50600c54680100000000000000008110156126ad57906103a68260016126a79401600c55611b59565b3861258d565b634e487b7160e01b83526041600452602483fd5b600c5410156126d0573861267e565b60405162461bcd60e51b815260206004820152602760248201527f5472616e7366657220776f756c6420657863656564207061727469636970616e60448201527f74206c696d6974000000000000000000000000000000000000000000000000006064820152608490fd5b905030141538612587565b5050505050565b90503861256b565b60405162461bcd60e51b8152602060048201526024808201527f43616e6e6f742073656e6420746f6b656e20746f20626c6f67206368616c6c656044820152633733b2b960e11b6064820152608490fd5b826000526000602052604060002085815401905561252d565b600090868252816020526040822054908582106127eb5750846040918884528360205203912055612518565b60405163391434e360e21b81526001600160a01b03919091166004820152602481019190915260448101859052606490fd5b1561282457565b60405162461bcd60e51b815260206004820152600f60248201527f4e6f74206368616c6c656e6765722100000000000000000000000000000000006044820152606490fd5b818110612874575050565b60008155600101612869565b9190916001600160a01b039283600e5416936002549260003081526020968188526128b16040968784205490611d78565b8015612a2857825b600c54811015612a1c57856128cd82611b59565b90549060031b1c16808552848b526128f1836128ec8b8820548b611e9b565b611d85565b9081612908575b505061290390611e4f565b6128b9565b8b82888a1630036129b5578b5163a9059cbb60e01b81526001600160a01b0393909316600484015260248301528160448189895af180156129ab579061290393929161298e575b505b87600b54167f2c57dec1db0095a6b800c2698d5bbceef2c180c6ac43429769a719658983f6778d612980611db2565b938d51908152a390386128f8565b6129a4908d803d10610690576106808183611b90565b503861294f565b8a513d88823e3d90fd5b8b516323b872dd60e01b81526001600160a01b038a8116600483015293909316602484015260448301528160648189895af180156129ab57906129039392916129ff575b50612951565b612a15908d803d10610690576106808183611b90565b50386129f9565b50505050505050509050565b505050505050509050565b6001600160a01b0380600b54166040519060009283827fdc04af0519d5b0f44211c3811133c21193d223810abd9d616819a606d674201d8280a3600e546370a0823160e01b845230600485015260209391168382602481845afa918215612b4e57908492918692612b18575b5060405163a9059cbb60e01b81526001600160a01b03909416600485015260248401919091528290818681604481015b03925af18015612b0d57612aef575b505060ff1960165416601655601255565b81612b0592903d10610690576106808183611b90565b503880612ade565b6040513d85823e3d90fd5b8092508391933d8311612b47575b612b308183611b90565b81010312612b4357518391612acf612a9f565b8480fd5b503d612b26565b6040513d87823e3d90fdfea26469706673582212209a9b47d56c516b3aec1776eff13de643a3d5be65f38da8db62ef000010a0b78a64736f6c63430008140033";

  const [factory] = await makeContract("ChallengeFactory");

  const admin = await factory.owner();
  console.log("Admin:", admin);

  const challengeCode = await factory.challengeCode()
  console.log("challengeCode:", challengeCode);

  if (bytecode && bytecode != challengeCode) {
    await sendTx(factory.updateChallengeImplementation(bytecode), "Update challengeCode")
  }
}

deploy(hre).catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
